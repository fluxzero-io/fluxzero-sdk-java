<!DOCTYPE HTML>
<html lang>
<head>
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<!-- Generated by javadoc (25) on Sat Feb 14 18:15:16 UTC 2026 -->
<title>ImmutableEntity (Fluxzero Java SDK 1.82.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-14">
<meta name="description" content="declaration: package: io.fluxzero.sdk.modeling, class: ImmutableEntity">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ImmutableEntity.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">io.fluxzero.sdk.modeling</a></li>
<li><a href="ImmutableEntity.html" class="current-selection">ImmutableEntity</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#key-features-heading" tabindex="0">Key Features</a></li>
<li><a href="#common-usage-heading" tabindex="0">Common Usage</a></li>
</ol>
</li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">ImmutableEntity()</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#type()" tabindex="0">type()</a></li>
<li><a href="#withType(java.lang.Class)" tabindex="0">withType(Class)</a></li>
<li><a href="#get()" tabindex="0">get()</a></li>
<li><a href="#update(java.util.function.UnaryOperator)" tabindex="0">update(UnaryOperator)</a></li>
<li><a href="#apply(io.fluxzero.sdk.common.Message)" tabindex="0">apply(Message)</a></li>
<li><a href="#commit()" tabindex="0">commit()</a></li>
<li><a href="#assertLegal(java.lang.Object)" tabindex="0">assertLegal(Object)</a></li>
<li><a href="#apply(io.fluxzero.sdk.common.serialization.DeserializingMessage)" tabindex="0">apply(DeserializingMessage)</a></li>
<li><a href="#assertApplyCompatibility(io.fluxzero.sdk.common.serialization.DeserializingMessage,io.fluxzero.sdk.modeling.Entity)" tabindex="0">assertApplyCompatibility(DeserializingMessage, Entity)</a></li>
<li><a href="#computeEntities()" tabindex="0">computeEntities()</a></li>
<li><a href="#computeAliases()" tabindex="0">computeAliases()</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class ImmutableEntity" class="title">Class ImmutableEntity&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.fluxzero.sdk.modeling.ImmutableEntity&lt;T&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="type-param-T"><code>T</code> - the type of the underlying domain object represented by this entity</span></dd>
</dl>
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;T&gt;</code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="ImmutableAggregateRoot.html" title="class in io.fluxzero.sdk.modeling">ImmutableAggregateRoot</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ImmutableEntity&lt;T&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;T&gt;</span></div>
<div class="block">Immutable implementation of the <a href="Entity.html" title="interface in io.fluxzero.sdk.modeling"><code>Entity</code></a> interface, representing a snapshot of a domain entity.
<p>
Unlike mutable entities, an <code>ImmutableEntity</code> is never changed in-place. Instead, updates such as event
applications or transformations return a new, updated instance, preserving immutability and making it suitable for
event-sourced state transitions, testing, and functional-style programming models.
<p>
This entity is typically wrapped by higher-level mutable structures such as <code>ModifiableAggregateRoot</code>, which
manage lifecycle and mutation tracking.

<h2 id="key-features-heading">Key Features</h2>
<ul>
    <li>Supports event application via methods annotated with <code>@Apply</code></li>
    <li>Supports recursive validation using <code>@AssertLegal</code></li>
    <li>Automatically resolves child entities and aliases using <code>@Member</code> and <code>@Alias</code> annotations</li>
    <li>Preserves immutability by returning a new instance after each update</li>
</ul>

<h2 id="common-usage-heading">Common Usage</h2>
<pre><code>ImmutableEntity&lt;Order&gt; orderEntity = ImmutableEntity.&lt;Order&gt;builder()
    .id("order123")
    .type(Order.class)
    .value(order)
    .entityHelper(entityHelper)
    .serializer(serializer)
    .build();

// Apply an event and receive a new version of the entity
orderEntity = orderEntity.apply(eventMessage);
</code></pre>

<p>
The <a href="#update(java.util.function.UnaryOperator)"><code>update(UnaryOperator)</code></a> method applies a transformation to the entity value and automatically
updates parent references when nested.
<p>
Event application is handled via the <a href="EntityHelper.html" title="interface in io.fluxzero.sdk.modeling"><code>EntityHelper</code></a> which dynamically locates appropriate handlers.
If no direct handler is found, the event is propagated recursively to nested child entities.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling"><code>Entity</code></a></li>
<li><a href="../persisting/eventsourcing/Apply.html" title="annotation interface in io.fluxzero.sdk.persisting.eventsourcing"><code>Apply</code></a></li>
<li><a href="Alias.html" title="annotation interface in io.fluxzero.sdk.modeling"><code>Alias</code></a></li>
<li><a href="Member.html" title="annotation interface in io.fluxzero.sdk.modeling"><code>Member</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-io.fluxzero.sdk.modeling.Entity">Fields inherited from interface&nbsp;<a href="Entity.html#field-summary" title="interface in io.fluxzero.sdk.modeling">Entity</a></h3>
<code><a href="Entity.html#AGGREGATE_ID_METADATA_KEY">AGGREGATE_ID_METADATA_KEY</a>, <a href="Entity.html#AGGREGATE_SN_METADATA_KEY">AGGREGATE_SN_METADATA_KEY</a>, <a href="Entity.html#AGGREGATE_TYPE_METADATA_KEY">AGGREGATE_TYPE_METADATA_KEY</a>, <a href="Entity.html#ALREADY_EXISTS_EXCEPTION">ALREADY_EXISTS_EXCEPTION</a>, <a href="Entity.html#applying">applying</a>, <a href="Entity.html#loading">loading</a>, <a href="Entity.html#NOT_FOUND_EXCEPTION">NOT_FOUND_EXCEPTION</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ImmutableEntity</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(io.fluxzero.sdk.common.Message)" class="member-name-link">apply</a><wbr>(<a href="../common/Message.html" title="class in io.fluxzero.sdk.common">Message</a>&nbsp;message)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies the given message to the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(io.fluxzero.sdk.common.serialization.DeserializingMessage)" class="member-name-link">apply</a><wbr>(<a href="../common/serialization/DeserializingMessage.html" title="class in io.fluxzero.sdk.common.serialization">DeserializingMessage</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies the given deserializing message to the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected &lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;<br>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#assertApplyCompatibility(io.fluxzero.sdk.common.serialization.DeserializingMessage,io.fluxzero.sdk.modeling.Entity)" class="member-name-link">assertApplyCompatibility</a><wbr>(<a href="../common/serialization/DeserializingMessage.html" title="class in io.fluxzero.sdk.common.serialization">DeserializingMessage</a>&nbsp;message,
 <a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;?&gt;&nbsp;entity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;<br><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#assertLegal(java.lang.Object)" class="member-name-link">assertLegal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Verifies that the provided update is legal given the current state of the aggregate.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit()" class="member-name-link">commit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commits the current state of the entity, persisting any changes made to it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeAliases()" class="member-name-link">computeAliases</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;? extends <a href="ImmutableEntity.html" title="class in io.fluxzero.sdk.modeling">ImmutableEntity</a>&lt;?&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeEntities()" class="member-name-link">computeEntities</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#type-param-T" title="type parameter in ImmutableEntity">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get()" class="member-name-link">get</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the current instance of the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#type()" class="member-name-link">type</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the type of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(java.util.function.UnaryOperator)" class="member-name-link">update</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;&nbsp;function)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the current entity's value using the specified unary operator and returns a new entity containing the
updated value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a><wbr>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withType(java.lang.Class)" class="member-name-link">withType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the type of the entity to the specified class and returns the updated entity.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.fluxzero.sdk.modeling.Entity">Methods inherited from interface&nbsp;<a href="Entity.html#method-summary" title="interface in io.fluxzero.sdk.modeling">Entity</a></h3>
<code><a href="Entity.html#aliases()" title="aliases()">aliases</a>, <a href="Entity.html#allEntities()" title="allEntities()">allEntities</a>, <a href="Entity.html#ancestors()" title="ancestors()">ancestors</a>, <a href="Entity.html#ancestorValue(java.lang.Class)" title="ancestorValue(Class)">ancestorValue</a>, <a href="Entity.html#apply(java.lang.Object)" title="apply(Object)">apply</a>, <a href="Entity.html#apply(java.lang.Object...)" title="apply(Object...)">apply</a>, <a href="Entity.html#apply(java.lang.Object,io.fluxzero.common.api.Metadata)" title="apply(Object, Metadata)">apply</a>, <a href="Entity.html#apply(java.util.Collection)" title="apply(Collection)">apply</a>, <a href="Entity.html#assertAndApply(java.lang.Object)" title="assertAndApply(Object)">assertAndApply</a>, <a href="Entity.html#assertAndApply(java.lang.Object...)" title="assertAndApply(Object...)">assertAndApply</a>, <a href="Entity.html#assertAndApply(java.lang.Object,io.fluxzero.common.api.Metadata)" title="assertAndApply(Object, Metadata)">assertAndApply</a>, <a href="Entity.html#assertAndApply(java.util.Collection)" title="assertAndApply(Collection)">assertAndApply</a>, <a href="Entity.html#associations(io.fluxzero.sdk.modeling.Entity)" title="associations(Entity)">associations</a>, <a href="Entity.html#depth()" title="depth()">depth</a>, <a href="Entity.html#dissociations(io.fluxzero.sdk.modeling.Entity)" title="dissociations(Entity)">dissociations</a>, <a href="Entity.html#entities()" title="entities()">entities</a>, <a href="Entity.html#filterEntity(java.util.function.Predicate)" title="filterEntity(Predicate)">filterEntity</a>, <a href="Entity.html#filterPresent()" title="filterPresent()">filterPresent</a>, <a href="Entity.html#getEntity(java.lang.Object)" title="getEntity(Object)">getEntity</a>, <a href="Entity.html#highestEventIndex()" title="highestEventIndex()">highestEventIndex</a>, <a href="Entity.html#id()" title="id()">id</a>, <a href="Entity.html#idProperty()" title="idProperty()">idProperty</a>, <a href="Entity.html#ifPresent(java.util.function.UnaryOperator)" title="ifPresent(UnaryOperator)">ifPresent</a>, <a href="Entity.html#isEmpty()" title="isEmpty()">isEmpty</a>, <a href="Entity.html#isPresent()" title="isPresent()">isPresent</a>, <a href="Entity.html#isRoot()" title="isRoot()">isRoot</a>, <a href="Entity.html#lastEventId()" title="lastEventId()">lastEventId</a>, <a href="Entity.html#lastEventIndex()" title="lastEventIndex()">lastEventIndex</a>, <a href="Entity.html#map(java.util.function.Function)" title="map(Function)">map</a>, <a href="Entity.html#mapEntity(java.util.function.Function)" title="mapEntity(Function)">mapEntity</a>, <a href="Entity.html#mapIfPresent(java.util.function.Function)" title="mapIfPresent(Function)">mapIfPresent</a>, <a href="Entity.html#orElse(T)" title="orElse(T)">orElse</a>, <a href="Entity.html#orElseGet(java.util.function.Supplier)" title="orElseGet(Supplier)">orElseGet</a>, <a href="Entity.html#orElseThrow()" title="orElseThrow()">orElseThrow</a>, <a href="Entity.html#orElseThrow(java.util.function.Supplier)" title="orElseThrow(Supplier)">orElseThrow</a>, <a href="Entity.html#parent()" title="parent()">parent</a>, <a href="Entity.html#playBackToCondition(java.util.function.Predicate)" title="playBackToCondition(Predicate)">playBackToCondition</a>, <a href="Entity.html#playBackToEvent(java.lang.Long,java.lang.String)" title="playBackToEvent(Long, String)">playBackToEvent</a>, <a href="Entity.html#possibleTargets(java.lang.Object)" title="possibleTargets(Object)">possibleTargets</a>, <a href="Entity.html#previous()" title="previous()">previous</a>, <a href="Entity.html#relationships()" title="relationships()">relationships</a>, <a href="Entity.html#root()" title="root()">root</a>, <a href="Entity.html#rootAnnotation()" title="rootAnnotation()">rootAnnotation</a>, <a href="Entity.html#sequenceNumber()" title="sequenceNumber()">sequenceNumber</a>, <a href="Entity.html#timestamp()" title="timestamp()">timestamp</a>, <a href="Entity.html#withEventIndex(java.lang.Long,java.lang.String)" title="withEventIndex(Long, String)">withEventIndex</a>, <a href="Entity.html#withSequenceNumber(long)" title="withSequenceNumber(long)">withSequenceNumber</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ImmutableEntity</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ImmutableEntity</span>()</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="type()">
<h3>type</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">type</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#type()">Entity</a></code></span></div>
<div class="block">Retrieves the type of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#type()">type</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the class type of the entity, or null if the type has not been defined</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="withType(java.lang.Class)">
<h3>withType</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">withType</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;&nbsp;type)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#withType(java.lang.Class)">Entity</a></code></span></div>
<div class="block">Sets the type of the entity to the specified class and returns the updated entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#withType(java.lang.Class)">withType</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>type</code> - the class representing the type to be set for the entity</dd>
<dt>Returns:</dt>
<dd>the updated entity with the specified type</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="get()">
<h3>get</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="#type-param-T" title="type parameter in ImmutableEntity">T</a></span>&nbsp;<span class="element-name">get</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#get()">Entity</a></code></span></div>
<div class="block">Retrieves the current instance of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#get()">get</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the current instance of the entity or null if not initialized</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(java.util.function.UnaryOperator)">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;&nbsp;function)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#update(java.util.function.UnaryOperator)">Entity</a></code></span></div>
<div class="block">Updates the current entity's value using the specified unary operator and returns a new entity containing the
updated value.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#update(java.util.function.UnaryOperator)">update</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>function</code> - the unary operator to apply to the current entity's value</dd>
<dt>Returns:</dt>
<dd>a new entity containing the updated value after applying the function</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="apply(io.fluxzero.sdk.common.Message)">
<h3>apply</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="../common/Message.html" title="class in io.fluxzero.sdk.common">Message</a>&nbsp;message)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#apply(io.fluxzero.sdk.common.Message)">Entity</a></code></span></div>
<div class="block">Applies the given message to the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#apply(io.fluxzero.sdk.common.Message)">apply</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>message</code> - the message representing the event to be applied</dd>
<dt>Returns:</dt>
<dd>the updated or newly created Entity of type T</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="commit()">
<h3>commit</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">commit</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#commit()">Entity</a></code></span></div>
<div class="block">Commits the current state of the entity, persisting any changes made to it. This method ensures that the
modifications are saved. Typically, it is unnecessary to invoke this manually as it is automatically invoked
after the current handler or consumer batch has completed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#commit()">commit</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>The updated entity after the commit operation is successfully completed.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="assertLegal(java.lang.Object)">
<h3>assertLegal</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">assertLegal</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</span>
                                            throws <span class="exceptions">E</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#assertLegal(java.lang.Object)">Entity</a></code></span></div>
<div class="block">Verifies that the provided update is legal given the current state of the aggregate. If so, the entity is
returned; otherwise, it throws an appropriate exception.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#assertLegal(java.lang.Object)">assertLegal</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><span id="assertLegal(java.lang.Object)-type-param-E"><code>E</code> - the type of exception expected if the update is not legal</span></dd>
<dt>Parameters:</dt>
<dd><code>update</code> - the update to be validated for compliance with the required rules</dd>
<dt>Returns:</dt>
<dd>the entity if the update is legal</dd>
<dt>Throws:</dt>
<dd><code>E</code> - if the update fails to meet legal requirements</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="apply(io.fluxzero.sdk.common.serialization.DeserializingMessage)">
<h3>apply</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="../common/serialization/DeserializingMessage.html" title="class in io.fluxzero.sdk.common.serialization">DeserializingMessage</a>&nbsp;message)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#apply(io.fluxzero.sdk.common.serialization.DeserializingMessage)">Entity</a></code></span></div>
<div class="block">Applies the given deserializing message to the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#apply(io.fluxzero.sdk.common.serialization.DeserializingMessage)">apply</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;<a href="#type-param-T" title="type parameter in ImmutableEntity">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>message</code> - the deserializing message to process and convert into an entity</dd>
<dt>Returns:</dt>
<dd>the entity resulting from applying the given deserializing message</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="assertApplyCompatibility(io.fluxzero.sdk.common.serialization.DeserializingMessage,io.fluxzero.sdk.modeling.Entity)">
<h3>assertApplyCompatibility</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="type-parameters">&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertApplyCompatibility</span><wbr><span class="parameters">(<a href="../common/serialization/DeserializingMessage.html" title="class in io.fluxzero.sdk.common.serialization">DeserializingMessage</a>&nbsp;message,
 <a href="Entity.html" title="interface in io.fluxzero.sdk.modeling">Entity</a>&lt;?&gt;&nbsp;entity)</span>
                                                       throws <span class="exceptions">E</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>E</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="computeEntities()">
<h3>computeEntities</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="ImmutableEntity.html" title="class in io.fluxzero.sdk.modeling">ImmutableEntity</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">computeEntities</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="computeAliases()">
<h3>computeAliases</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;</span>&nbsp;<span class="element-name">computeAliases</span>()</div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026 <a href="https://github.com/fluxzero-io/fluxzero-sdk-java">Fluxzero</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
