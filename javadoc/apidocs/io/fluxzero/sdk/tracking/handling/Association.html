<!DOCTYPE HTML>
<html lang>
<head>
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<!-- Generated by javadoc (25) on Sun Dec 07 17:15:07 UTC 2025 -->
<title>Association (Fluxzero Java SDK 0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-12-07">
<meta name="description" content="declaration: package: io.fluxzero.sdk.tracking.handling, annotation type: Association">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Association.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">io.fluxzero.sdk.tracking.handling</a></li>
<li><a href="Association.html" class="current-selection">Association</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#usage-heading" tabindex="0">Usage</a></li>
<li><a href="#matching-semantics-heading" tabindex="0">Matching Semantics</a></li>
<li><a href="#multiple-handler-matches-heading" tabindex="0">Multiple Handler Matches</a>
<ol class="toc-list">
<li><a href="#example-associating-by-field-heading" tabindex="0">Example: Associating by field</a></li>
<li><a href="#example-method-level-association-heading" tabindex="0">Example: Method-level association</a></li>
</ol>
</li>
<li><a href="#advanced-configuration-heading" tabindex="0">Advanced Configuration</a></li>
</ol>
</li>
<li><a href="#annotation-interface-optional-element-summary" tabindex="0">Optional Element Summary</a></li>
<li><a href="#annotation-interface-element-detail" tabindex="0">Element Details</a>
<ol class="toc-list">
<li><a href="#value()" tabindex="0">value</a></li>
<li><a href="#path()" tabindex="0">path</a></li>
<li><a href="#includedClasses()" tabindex="0">includedClasses</a></li>
<li><a href="#excludedClasses()" tabindex="0">excludedClasses</a></li>
<li><a href="#excludeMetadata()" tabindex="0">excludeMetadata</a></li>
<li><a href="#always()" tabindex="0">always</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Annotation Interface Association" class="title">Annotation Interface Association</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#FIELD" title="class or interface in java.lang.annotation" class="external-link">FIELD</a>,<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>})
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html" title="class or interface in java.lang.annotation" class="external-link">@Inherited</a>
<a href="../../../common/search/SearchInclude.html" title="annotation interface in io.fluxzero.common.search">@SearchInclude</a>
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Association</span></div>
<div class="block">Declares how a message should be routed to a stateful handler instance (typically annotated with <a href="Stateful.html" title="annotation interface in io.fluxzero.sdk.tracking.handling"><code>Stateful</code></a>).
<p>
<code>@Association</code> enables matching of incoming messages with persisted handler instances. Matching handlers are
automatically loaded and the message is applied to them.

<h2 id="usage-heading">Usage</h2>
This annotation can be placed on:
<ul>
    <li>A <strong>field or getter</strong> in a stateful handler — this declares which part of the handler's state
    is used for association.</li>
    <li>A <strong>handler method</strong> — this declares which message field(s) should be matched against
    handler state.</li>
</ul>

<h2 id="matching-semantics-heading">Matching Semantics</h2>
A message is associated with a handler if:
<ul>
    <li>The value of the property in the message equals the value in the handler's state, and</li>
    <li>The name of the message property matches the name (or explicitly declared <a href="#value()"><code>value()</code></a>) of the handler field.</li>
</ul>
This dual condition prevents false positives when different fields share similar values.

<h2 id="multiple-handler-matches-heading">Multiple Handler Matches</h2>
A single message may match multiple handlers. All matching handlers will be loaded and the message will be applied to each.

<h3 id="example-associating-by-field-heading">Example: Associating by field</h3>
<pre><code>@Value
@Stateful
public class PaymentProcess {
    @EntityId String id;

    @Association
    String pspReference;
}
</code></pre>
In this example, any message with a `pspReference` field matching the handler’s field will be routed to it.

<h3 id="example-method-level-association-heading">Example: Method-level association</h3>
<pre><code>@HandleEvent
@Association("userId")
void on(UserDeleted event) {
    ...
}
</code></pre>
Associates based on the `userId` field in the message payload.

<h2 id="advanced-configuration-heading">Advanced Configuration</h2>
<ul>
    <li><a href="#path()"><code>path()</code></a> can be used to match nested or computed properties in the handler state.</li>
    <li><a href="#includedClasses()"><code>includedClasses()</code></a> and <a href="#excludedClasses()"><code>excludedClasses()</code></a> can restrict association to specific message types.</li>
    <li><a href="#excludeMetadata()"><code>excludeMetadata()</code></a> disables metadata-based matching.</li>
    <li><a href="#always()"><code>always()</code></a> applies the message to <em>all</em> persisted handlers regardless of association (use with care).</li>
</ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Stateful.html" title="annotation interface in io.fluxzero.sdk.tracking.handling"><code>Stateful</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#always()" class="member-name-link">always</a></code></div>
<div class="col-last even-row-color">
<div class="block">Returns whether the message matched by this handler should always be applied to any stored handlers.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</code></div>
<div class="col-second odd-row-color"><code><a href="#excludedClasses()" class="member-name-link">excludedClasses</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Returns payload classes for which this association is active.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#excludeMetadata()" class="member-name-link">excludeMetadata</a></code></div>
<div class="col-last even-row-color">
<div class="block">Returns whether metadata properties of messages should be checked for possible association with a stored
handler.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</code></div>
<div class="col-second odd-row-color"><code><a href="#includedClasses()" class="member-name-link">includedClasses</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Returns payload classes for which this association can be used.</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#path()" class="member-name-link">path</a></code></div>
<div class="col-last even-row-color">
<div class="block">Returns path of the property to match on in the handler state.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Returns names of properties in the message payload to associate with.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">value</span></div>
<div class="block">Returns names of properties in the message payload to associate with. If the annotation is placed on a property
of the Handler this may be left empty to associate using the name of the Handler property.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="path()">
<h3>path</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">path</span></div>
<div class="block">Returns path of the property to match on in the handler state. A message is only associated with a stored Handler
if the associated value can be found in a stored Handler at the given path.
<p>
If this is left empty and the annotation is on a field or getter, the name of field is used to filter any
matches. If this is left empty and the annotation is on a handler method, any Handler containing the associated
value is matched, regardless of the path of the value in the matched Handler.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="includedClasses()">
<h3>includedClasses</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">includedClasses</span></div>
<div class="block">Returns payload classes for which this association can be used. If this array is empty or the payload of a
message is assignable to any of these classes, AND the class is not excluded via <a href="#excludedClasses()"><code>excludedClasses()</code></a>, an
association with the message is attempted.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="excludedClasses()">
<h3>excludedClasses</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">excludedClasses</span></div>
<div class="block">Returns payload classes for which this association is active. If the payload of a message is assignable to any of
these classes an association with the message is NOT attempted.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="excludeMetadata()">
<h3>excludeMetadata</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">excludeMetadata</span></div>
<div class="block">Returns whether metadata properties of messages should be checked for possible association with a stored
handler.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>false</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="always()">
<h3>always</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">always</span></div>
<div class="block">Returns whether the message matched by this handler should always be applied to any stored handlers. All other
configuration in this annotation will be ignored. This setting only has an effect if it is used in an annotation
of a handler method. I.e. it has no effect if the association is on a field or getter of the handler.
<p>
Note: be very careful using this when there are many stored handlers, as each handler will be fetched and
updated. In that case it is prudent to look for alternatives.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>false</code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://github.com/fluxzero-io/fluxzero-sdk-java">Fluxzero</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
