{
  "name" : "RetryingErrorHandler",
  "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler",
  "packageName" : "io.fluxzero.sdk.tracking",
  "kind" : "class",
  "modifiers" : [ "public" ],
  "annotations" : [ {
    "annotationType" : "lombok.extern.slf4j.Slf4j",
    "values" : {}
  }, {
    "annotationType" : "lombok.AllArgsConstructor",
    "values" : {
      "access" : "PROTECTED"
    }
  } ],
  "documentation" : " An {@link ErrorHandler} implementation that retries failed operations a configurable number of times, with optional\n propagation or suppression of unrecoverable errors.\n <p>\n This handler is designed for scenarios where transient failures (e.g., network hiccups, temporary service downtime)\n are expected and recovery is possible through retrying the operation. It allows for detailed control over:\n <ul>\n     <li>Which errors should trigger retries (via {@code errorFilter})</li>\n     <li>How many retries to perform and at what delay (via {@link RetryConfiguration})</li>\n     <li>Whether to stop the consumer or continue on final failure</li>\n     <li>Whether functional errors should be logged</li>\n </ul>\n\n <p><strong>Retry Logic:</strong>\n <ul>\n     <li>If the error matches {@code errorFilter}, the {@code retryFunction} is invoked repeatedly up to {@code maxRetries}.</li>\n     <li>If all retries fail:\n       <ul>\n         <li>And {@code stopConsumerOnFailure} is {@code true}, the original error is rethrown, halting tracking.</li>\n         <li>Otherwise, the error is logged and passed through {@link RetryConfiguration#getErrorMapper()}.</li>\n       </ul>\n     </li>\n     <li>If the error does not match the filter, no retries are performed and the handler either continues or propagates, based on configuration.</li>\n </ul>\n\n <p><strong>Logging Behavior:</strong>\n <ul>\n     <li>Technical errors are logged at {@code ERROR} level.</li>\n     <li>{@link FunctionalException}s are logged at {@code WARN} level, if {@code logFunctionalErrors} is {@code true}.</li>\n     <li>Retry success is logged via {@code RetryConfiguration.successLogger}.</li>\n </ul>\n\n <p><strong>Usage Example:</strong>\n <pre>{@code\n @Consumer(name = \"resilientHandler\", errorHandler = RetryingErrorHandler.class)\n public class ResilientCommandHandler {\n     @HandleCommand\n     void handle(PlaceOrder command) {\n         // Retries on technical failures before giving up\n     }\n }\n }</pre>\n\n @see ErrorHandler\n @see RetryConfiguration\n @see FunctionalException\n @see ThrowingErrorHandler\n @see LoggingErrorHandler\n",
  "typeParameters" : [ ],
  "superClass" : "java.lang.Object",
  "interfaces" : [ "io.fluxzero.sdk.tracking.ErrorHandler" ],
  "fields" : [ {
    "name" : "errorFilter",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler.errorFilter",
    "type" : "java.util.function.Predicate<java.lang.Throwable>",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : " Predicate to determine which errors should trigger retries. For example, ignoring {@link FunctionalException}.\n",
    "constantValue" : null
  }, {
    "name" : "logFunctionalErrors",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler.logFunctionalErrors",
    "type" : "boolean",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : " Whether to log functional (business) exceptions at WARN level.\n",
    "constantValue" : null
  }, {
    "name" : "retryConfiguration",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler.retryConfiguration",
    "type" : "io.fluxzero.common.RetryConfiguration",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : " Retry policy and associated logging behavior.\n",
    "constantValue" : null
  }, {
    "name" : "stopConsumerOnFailure",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler.stopConsumerOnFailure",
    "type" : "boolean",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : " Whether to propagate the error and stop the consumer if retries are exhausted or skipped.\n",
    "constantValue" : null
  } ],
  "constructors" : [ {
    "name" : "RetryingErrorHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#RetryingErrorHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Constructs a handler that retries on technical exceptions up to 5 times with a 2-second delay. Consumer is not\n stopped on failure.\n"
  }, {
    "name" : "RetryingErrorHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#RetryingErrorHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "stopConsumerOnFailure",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Constructs a handler with default retry behavior and optional consumer stop behavior.\n"
  }, {
    "name" : "RetryingErrorHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#RetryingErrorHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "maxRetries",
      "type" : "int",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "delay",
      "type" : "java.time.Duration",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "errorFilter",
      "type" : "java.util.function.Predicate<java.lang.Throwable>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "stopConsumerOnFailure",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "logFunctionalErrors",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Constructs a handler with detailed retry configuration options.\n"
  }, {
    "name" : "RetryingErrorHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#RetryingErrorHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "maxRetries",
      "type" : "int",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "delay",
      "type" : "java.time.Duration",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "errorFilter",
      "type" : "java.util.function.Predicate<java.lang.Throwable>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "stopConsumerOnFailure",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "logFunctionalErrors",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "errorMapper",
      "type" : "java.util.function.Function<java.lang.Throwable,?>",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Constructs a fully customized retrying handler with retry behavior and error mapping logic.\n"
  }, {
    "name" : "RetryingErrorHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#RetryingErrorHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "errorFilter",
      "type" : "java.util.function.Predicate<java.lang.Throwable>",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Constructs a handler with a custom error filter that allows message tracking to continue if the error persists\n after retries.\n"
  }, {
    "name" : "RetryingErrorHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#RetryingErrorHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "errorFilter",
      "type" : "java.util.function.Predicate<java.lang.Throwable>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "stopConsumerOnFailure",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Constructs a handler with a custom error filter and optional consumer stop behavior.\n"
  } ],
  "methods" : [ {
    "name" : "handleError",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#handleError",
    "returnType" : "java.lang.Object",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    }, {
      "annotationType" : "lombok.SneakyThrows",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "error",
      "type" : "java.lang.Throwable",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "errorMessage",
      "type" : "java.lang.String",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "retryFunction",
      "type" : "java.util.concurrent.Callable<?>",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Handles the error by retrying the operation if allowed, or propagating/logging based on configuration. Throws the\n original error if retries are exhausted and the tracker should stop.\n\n @param error         the encountered {@link Throwable}\n @param errorMessage  context about the failure\n @param retryFunction the operation that failed\n @return the final result or error after retries\n"
  }, {
    "name" : "isTechnicalError",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#isTechnicalError",
    "returnType" : "boolean",
    "modifiers" : [ "protected", "static" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "error",
      "type" : "java.lang.Throwable",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Determines if the error is a technical exception (not {@link FunctionalException}).\n"
  }, {
    "name" : "logError",
    "qualifiedName" : "io.fluxzero.sdk.tracking.RetryingErrorHandler#logError",
    "returnType" : "void",
    "modifiers" : [ "protected" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "message",
      "type" : "java.lang.String",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "error",
      "type" : "java.lang.Throwable",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Logs the error at the appropriate level based on its type.\n"
  } ],
  "enumConstants" : [ ],
  "recordComponents" : [ ],
  "nestedTypes" : [ ]
}
