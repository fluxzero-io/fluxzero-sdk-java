{
  "name" : "MutableHandler",
  "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler",
  "packageName" : "io.fluxzero.sdk.tracking.handling",
  "kind" : "class",
  "modifiers" : [ "public" ],
  "annotations" : [ {
    "annotationType" : "lombok.AllArgsConstructor",
    "values" : {}
  } ],
  "documentation" : " A specialized {@link Handler} that maintains and mutates an internal delegate instance.\n <p>\n This handler is designed for use cases where the state of the handler may evolve dynamically\n across message invocations. It is particularly suited for temporarily scoped objects (e.g. sagas, user sessions).\n\n <h2>Behavior</h2>\n When a handler method returns an instance of the handlerâ€™s target class, this instance is stored\n as the new delegate:\n <pre>{@code\n Object result = method.invoke(target);\n if (result instanceof MyHandler) {\n     target = result; // promote new version\n }\n }</pre>\n <p>\n If the method returns {@code null} and the method's return type matches the target class, the internal\n target is cleared, and any registered delete callbacks are triggered.\n\n <h2>Lifecycle Hooks</h2>\n A delete callback can be registered using {@link #onDelete(Runnable)} to perform cleanup when\n the handler deletes its state (i.e., returns {@code null}).\n\n @param <M> the message type this handler supports\n",
  "typeParameters" : [ "M" ],
  "superClass" : "java.lang.Object",
  "interfaces" : [ "io.fluxzero.common.handling.Handler<M>" ],
  "fields" : [ {
    "name" : "handlerMatcher",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler.handlerMatcher",
    "type" : "io.fluxzero.common.handling.HandlerMatcher<java.lang.Object,M>",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  }, {
    "name" : "onDeleteCallbacks",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler.onDeleteCallbacks",
    "type" : "java.util.Set<java.lang.Runnable>",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  }, {
    "name" : "returnTargetInstance",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler.returnTargetInstance",
    "type" : "boolean",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  }, {
    "name" : "target",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler.target",
    "type" : "java.lang.Object",
    "modifiers" : [ "private", "volatile" ],
    "annotations" : [ {
      "annotationType" : "lombok.Getter",
      "values" : {}
    } ],
    "documentation" : null,
    "constantValue" : null
  }, {
    "name" : "targetClass",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler.targetClass",
    "type" : "java.lang.Class<?>",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ {
      "annotationType" : "lombok.Getter",
      "values" : {}
    } ],
    "documentation" : null,
    "constantValue" : null
  } ],
  "constructors" : [ {
    "name" : "MutableHandler",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler#MutableHandler",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  } ],
  "methods" : [ {
    "name" : "getInvoker",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler#getInvoker",
    "returnType" : "java.util.Optional<io.fluxzero.common.handling.HandlerInvoker>",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "message",
      "type" : "M",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "instantiateTarget",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler#instantiateTarget",
    "returnType" : "io.fluxzero.sdk.tracking.handling.MutableHandler<M>",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "isEmpty",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler#isEmpty",
    "returnType" : "boolean",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "onDelete",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.MutableHandler#onDelete",
    "returnType" : "io.fluxzero.common.Registration",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "callback",
      "type" : "java.lang.Runnable",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  } ],
  "enumConstants" : [ ],
  "recordComponents" : [ ],
  "nestedTypes" : [ ]
}
