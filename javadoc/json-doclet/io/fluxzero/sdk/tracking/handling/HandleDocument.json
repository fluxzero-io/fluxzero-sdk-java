{
  "name" : "HandleDocument",
  "qualifiedName" : "io.fluxzero.sdk.tracking.handling.HandleDocument",
  "packageName" : "io.fluxzero.sdk.tracking.handling",
  "kind" : "annotation_type",
  "modifiers" : [ "abstract", "public" ],
  "annotations" : [ {
    "annotationType" : "java.lang.annotation.Documented",
    "values" : {}
  }, {
    "annotationType" : "java.lang.annotation.Retention",
    "values" : {
      "value" : "RUNTIME"
    }
  }, {
    "annotationType" : "java.lang.annotation.Target",
    "values" : {
      "value" : "METHOD,CONSTRUCTOR"
    }
  }, {
    "annotationType" : "io.fluxzero.sdk.tracking.handling.HandleMessage",
    "values" : {
      "value" : "DOCUMENT"
    }
  } ],
  "documentation" : " Marks a method or constructor as a handler for document messages within a search collection.\n <p>\n This is a specialization of {@link HandleMessage} for {@link MessageType#DOCUMENT} messages. It allows consuming\n updates from the document store in near real-time—similar to event tracking. Handlers can either specify a collection\n name or a document class.\n </p>\n\n <h2>Document Tracking Semantics</h2>\n <p>\n Each time a document is (re)indexed in Fluxzero, it receives a new tracking index. When a handler is subscribed\n via {@code @HandleDocument}, it will receive the most recent version of the document for each index. If the tracker\n is behind (e.g., during a replay), earlier versions of the same document may be skipped—only the latest version is\n retained.\n </p>\n\n <h2>Transforming and Updating Documents</h2>\n <p>\n A powerful feature of document handlers is that they can return a modified version of the document to update it\n in-place. This allows document transformations and upcasting to be applied automatically and reliably.\n </p>\n <p>\n For this behavior to take effect:\n <ul>\n   <li>The returned document must have a higher {@link Revision} than the one stored</li>\n   <li>The updated version will be stored in the document collection under the same ID</li>\n </ul>\n\n <p>\n This mechanism supports fully-automated data migrations: handlers can evolve or patch documents over time,\n and changes are persisted across application restarts.\n </p>\n\n @see Searchable\n @see HandleMessage\n @see MessageType#DOCUMENT\n",
  "typeParameters" : [ ],
  "superClass" : null,
  "interfaces" : [ "java.lang.annotation.Annotation" ],
  "fields" : [ ],
  "constructors" : [ ],
  "methods" : [ {
    "name" : "disabled",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.HandleDocument#disabled",
    "returnType" : "boolean",
    "modifiers" : [ "abstract", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " If {@code true}, disables this handler during discovery.\n"
  }, {
    "name" : "documentClass",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.HandleDocument#documentClass",
    "returnType" : "java.lang.Class<?>",
    "modifiers" : [ "abstract", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Optional class of the documents to handle. If annotated with {@link Searchable}, the annotation defines the\n collection; otherwise the class name is used.\n <p>\n If neither documentClass nor value are specified, the first parameter of the method is used to determine the\n collection:\n\n <pre>{@code\n class OrganisationHandler {\n     @HandleDocument\n     void on(Organisation organisation, Metadata metadata) { ... }\n }\n }</pre>\n\n @see Searchable\n"
  }, {
    "name" : "value",
    "qualifiedName" : "io.fluxzero.sdk.tracking.handling.HandleDocument#value",
    "returnType" : "java.lang.String",
    "modifiers" : [ "abstract", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Optional name of the document collection. If provided, {@link #documentClass()} is ignored.\n\n <p>\n If neither documentClass nor value are specified, the first parameter of the method is used to determine the\n collection:\n\n <pre>{@code\n class OrganisationHandler {\n     @HandleDocument\n     void on(Organisation organisation, Metadata metadata) { ... }\n }\n }</pre>\n\n @see Searchable\n"
  } ],
  "enumConstants" : [ ],
  "recordComponents" : [ ],
  "nestedTypes" : [ ]
}
