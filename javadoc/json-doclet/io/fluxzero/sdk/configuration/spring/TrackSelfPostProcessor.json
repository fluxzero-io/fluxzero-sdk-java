{
  "name" : "TrackSelfPostProcessor",
  "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor",
  "packageName" : "io.fluxzero.sdk.configuration.spring",
  "kind" : "class",
  "modifiers" : [ "public" ],
  "annotations" : [ {
    "annotationType" : "lombok.extern.slf4j.Slf4j",
    "values" : {}
  }, {
    "annotationType" : "lombok.NoArgsConstructor",
    "values" : {}
  } ],
  "documentation" : " Spring {@link BeanDefinitionRegistryPostProcessor} that detects classes annotated with {@link TrackSelf}\n and registers them as {@link FluxzeroPrototype} beans for use by Fluxzero.\n <p>\n This processor differs from {@link StatefulPostProcessor} in that it performs full classpath scanning—rather\n than only inspecting instantiated beans—because it must also detect interfaces and abstract classes annotated\n with {@code @TrackSelf}. These types represent projection definitions that are later handled dynamically.\n <p>\n All detected {@code @TrackSelf} types are wrapped as {@link FluxzeroPrototype} and registered as Spring bean\n definitions, allowing Fluxzero to discover and register them as self-tracking projections at runtime.\n\n <h2>Usage</h2>\n To enable self-tracking on a class use e.g.:\n <pre>{@code\n @TrackSelf\n public interface UserUpdate {\n     UserId getUserId();\n\n     @HandleCommand\n     default void handle() {\n         Fluxzero.loadAggregate(getUserId()).assertAndApply(this);\n     }\n }\n }</pre>\n <p>\n Make sure Spring picks up this processor, for example by including\n {@link FluxzeroSpringConfig} in your configuration:\n <pre>{@code\n @SpringBootApplication\n @Import(FluxzeroSpringConfig.class)\n public class MyApp { ... }\n }</pre>\n\n @see TrackSelf\n @see StatefulPostProcessor\n @see FluxzeroPrototype\n @see FluxzeroSpringConfig\n",
  "typeParameters" : [ ],
  "superClass" : "java.lang.Object",
  "interfaces" : [ "org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor", "org.springframework.context.EnvironmentAware" ],
  "fields" : [ {
    "name" : "environment",
    "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor.environment",
    "type" : "org.springframework.core.env.Environment",
    "modifiers" : [ "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  } ],
  "constructors" : [ {
    "name" : "TrackSelfPostProcessor",
    "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor#TrackSelfPostProcessor",
    "modifiers" : [ "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  } ],
  "methods" : [ {
    "name" : "extractBeanClass",
    "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor#extractBeanClass",
    "returnType" : "java.lang.Class<?>",
    "modifiers" : [ "protected" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "beanDefinition",
      "type" : "org.springframework.beans.factory.config.BeanDefinition",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Extracts the target class from the scanned {@link BeanDefinition}.\n\n @param beanDefinition the scanned bean definition\n @return the resolved class, or {@code null} if not resolvable\n"
  }, {
    "name" : "postProcessBeanDefinitionRegistry",
    "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor#postProcessBeanDefinitionRegistry",
    "returnType" : "void",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "registry",
      "type" : "org.springframework.beans.factory.support.@lombok.NonNull BeanDefinitionRegistry",
      "varArgs" : false,
      "annotations" : [ {
        "annotationType" : "lombok.NonNull",
        "values" : {}
      } ]
    } ],
    "thrownTypes" : [ "org.springframework.beans.BeansException" ],
    "varArgs" : false,
    "documentation" : " No-op. This implementation does not modify the registry at this phase.\n\n @param registry the {@link BeanDefinitionRegistry}\n"
  }, {
    "name" : "postProcessBeanFactory",
    "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor#postProcessBeanFactory",
    "returnType" : "void",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "beanFactory",
      "type" : "org.springframework.beans.factory.config.@lombok.NonNull ConfigurableListableBeanFactory",
      "varArgs" : false,
      "annotations" : [ {
        "annotationType" : "lombok.NonNull",
        "values" : {}
      } ]
    } ],
    "thrownTypes" : [ "org.springframework.beans.BeansException" ],
    "varArgs" : false,
    "documentation" : " Scans the classpath for components annotated with {@link TrackSelf}, based on {@link ComponentScan} metadata, and\n registers each of them as a {@link FluxzeroPrototype}.\n <p>\n If the {@code beanFactory} is not a {@link BeanDefinitionRegistry}, a warning is logged and processing is\n skipped.\n"
  }, {
    "name" : "setEnvironment",
    "qualifiedName" : "io.fluxzero.sdk.configuration.spring.TrackSelfPostProcessor#setEnvironment",
    "returnType" : "void",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "environment",
      "type" : "org.springframework.core.env.Environment",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Sets the Spring {@link Environment} used for context-aware scanning.\n"
  } ],
  "enumConstants" : [ ],
  "recordComponents" : [ ],
  "nestedTypes" : [ ]
}
