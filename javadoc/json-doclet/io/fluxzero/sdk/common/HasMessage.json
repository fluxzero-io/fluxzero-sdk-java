{
  "name" : "HasMessage",
  "qualifiedName" : "io.fluxzero.sdk.common.HasMessage",
  "packageName" : "io.fluxzero.sdk.common",
  "kind" : "interface",
  "modifiers" : [ "abstract", "public" ],
  "annotations" : [ ],
  "documentation" : " Interface for objects that expose a backing {@link Message} instance.\n <p>\n This abstraction allows access to common message properties (payload, metadata, timestamp, ID, routing key) without\n requiring the caller to know if they're working with a {@code Message}, {@code Schedule}, or a wrapped domain\n object.\n </p>\n\n <p>\n Implementations must return a consistent {@link #toMessage()} representation and may override routing logic using\n annotations such as {@link RoutingKey}.\n </p>\n\n <h2>Responsibilities</h2>\n <ul>\n   <li>Expose payload and metadata via delegation</li>\n   <li>Enable routing key extraction via {@link #computeRoutingKey()}</li>\n   <li>Support typed deserialization using {@link #getPayloadAs(Type)}</li>\n </ul>\n\n @see Message\n @see Schedule\n @see RoutingKey\n @see HasMetadata\n",
  "typeParameters" : [ ],
  "superClass" : null,
  "interfaces" : [ "io.fluxzero.common.api.HasMetadata" ],
  "fields" : [ {
    "name" : "warnedAboutMissingProperty",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage.warnedAboutMissingProperty",
    "type" : "java.util.function.BiFunction<java.lang.Class<?>,java.lang.String,java.util.concurrent.atomic.AtomicBoolean>",
    "modifiers" : [ "final", "public", "static" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  } ],
  "constructors" : [ ],
  "methods" : [ {
    "name" : "computeRoutingKey",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#computeRoutingKey",
    "returnType" : "java.util.Optional<java.lang.String>",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Computes the default routing key for this message.\n <p>\n The key is extracted based on the {@link RoutingKey} annotation on the payload type or one of its properties. If\n none is found, and the message is a {@link Schedule}, the schedule ID is used instead.\n\n @return the resolved routing key, if available\n"
  }, {
    "name" : "getMessageId",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getMessageId",
    "returnType" : "java.lang.String",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Returns the unique ID of the underlying message.\n\n @return the message ID\n"
  }, {
    "name" : "getPayload",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getPayload",
    "returnType" : "R",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ "R" ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Retrieves the message payload, deserializing if necessary, cast to the expected type.\n <p>\n By default, this delegates to {@code toMessage().getPayload()}.\n\n @param <R> the expected payload type\n @return the deserialized payload\n"
  }, {
    "name" : "getPayloadAs",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getPayloadAs",
    "returnType" : "R",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ "R" ],
    "parameters" : [ {
      "name" : "type",
      "type" : "java.lang.reflect.Type",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Retrieves the message payload, deserializing if necessary and optionally converted to the given type.\n <p>\n By default, this performs a conversion of the payload using {@link JsonUtils}.\n\n @param <R> the expected payload type\n @return the payload converted to the given type\n"
  }, {
    "name" : "getPayloadClass",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getPayloadClass",
    "returnType" : "java.lang.Class<?>",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Returns the runtime class of the payload object, or {@code Void.class} if the payload is {@code null}.\n\n @return the payload's class\n"
  }, {
    "name" : "getRoutingKey",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getRoutingKey",
    "returnType" : "java.util.Optional<java.lang.String>",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "propertyName",
      "type" : "java.lang.String",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Attempts to resolve the routing key from the given property name.\n <p>\n This checks metadata first, then the payload itself. Logs a warning the first time a property is missing for a\n given payload class.\n\n @param propertyName the name of the field, method, or metadata key to use\n @return the routing key if found\n"
  }, {
    "name" : "getRoutingKey",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getRoutingKey",
    "returnType" : "java.util.Optional<java.lang.String>",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "propertyName",
      "type" : "java.lang.String",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "warnIfMissing",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Attempts to resolve the routing key from the specified property name.\n <p>\n Optionally logs a warning if the key is missing, but only once per class-property combination.\n\n @param propertyName  the property to use for routing\n @param warnIfMissing whether to log a warning on first failure\n @return the routing key if resolved\n"
  }, {
    "name" : "getTimestamp",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#getTimestamp",
    "returnType" : "java.time.Instant",
    "modifiers" : [ "default", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Returns the timestamp at which the message was created or published.\n\n @return the message timestamp\n"
  }, {
    "name" : "toMessage",
    "qualifiedName" : "io.fluxzero.sdk.common.HasMessage#toMessage",
    "returnType" : "io.fluxzero.sdk.common.Message",
    "modifiers" : [ "abstract", "public" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : " Returns the underlying {@link Message} representation of this object.\n\n @return the {@code Message} backing this instance\n"
  } ],
  "enumConstants" : [ ],
  "recordComponents" : [ ],
  "nestedTypes" : [ ]
}
