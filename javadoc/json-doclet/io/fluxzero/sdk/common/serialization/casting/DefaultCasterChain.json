{
  "name" : "DefaultCasterChain",
  "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain",
  "packageName" : "io.fluxzero.sdk.common.serialization.casting",
  "kind" : "class",
  "modifiers" : [ "public" ],
  "annotations" : [ ],
  "documentation" : " Default implementation of the {@link CasterChain} interface used for managing and applying casting operations—\n typically upcasting or downcasting—on {@link SerializedObject} instances.\n\n <p>This class supports flexible runtime registration and execution of type transformers based on annotations such as\n {@link Upcast} and {@link Downcast}. It allows the system to evolve serialized object schemas over time while\n maintaining backward and forward compatibility.\n\n <h2>Key Responsibilities</h2>\n <ul>\n     <li>Applies registered caster functions based on a combination of object type and revision.</li>\n     <li>Supports both upcasting (increasing version) and downcasting (lowering version) based on configuration.</li>\n     <li>Provides utility methods to create upcasters and downcasters using optional format conversion logic.</li>\n     <li>Allows chaining via {@code intercept()} for use with {@code ConvertingSerializedObject} wrappers.</li>\n </ul>\n\n <h2>Usage</h2>\n <pre>{@code\n CasterChain<SerializedObject<byte[]>, SerializedObject<?>> upcaster =\n     DefaultCasterChain.createUpcaster(candidates, JsonNode.class);\n\n Stream<SerializedObject<byte[]>> transformed = upcaster.cast(inputStream, latestRevision);\n }</pre>\n\n <h2>Design Notes</h2>\n <ul>\n     <li>Backed by a {@code Map<DataRevision, AnnotatedCaster<T>>} which ensures casting operations are deterministic.</li>\n     <li>When multiple methods would match the same revision, an exception is thrown to prevent ambiguous resolution.</li>\n     <li>Supports optional format conversion using a {@link Converter} via {@link ConvertingSerializedObject} wrapper.</li>\n </ul>\n\n @param <T> the data type of the serialized value (e.g. byte[] or JsonNode)\n @param <S> the serialized object wrapper containing the data\n @see Caster\n @see CasterChain\n @see SerializedObject\n @see ConvertingSerializedObject\n",
  "typeParameters" : [ "T", "S" ],
  "superClass" : "java.lang.Object",
  "interfaces" : [ "io.fluxzero.sdk.common.serialization.casting.CasterChain<S,S>" ],
  "fields" : [ {
    "name" : "casters",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain.casters",
    "type" : "java.util.Map<io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain.DataRevision,io.fluxzero.sdk.common.serialization.casting.AnnotatedCaster<T>>",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  }, {
    "name" : "dataType",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain.dataType",
    "type" : "java.lang.Class<T>",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  }, {
    "name" : "down",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain.down",
    "type" : "boolean",
    "modifiers" : [ "final", "private" ],
    "annotations" : [ ],
    "documentation" : null,
    "constantValue" : null
  } ],
  "constructors" : [ {
    "name" : "DefaultCasterChain",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#DefaultCasterChain",
    "modifiers" : [ "protected" ],
    "annotations" : [ ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "casterCandidates",
      "type" : "java.util.Collection<?>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "dataType",
      "type" : "java.lang.Class<T>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "down",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  } ],
  "methods" : [ {
    "name" : "cast",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#cast",
    "returnType" : "java.util.stream.Stream<S>",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "input",
      "type" : "java.util.stream.Stream<? extends S>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "desiredRevision",
      "type" : "java.lang.Integer",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "create",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#create",
    "returnType" : "io.fluxzero.sdk.common.serialization.casting.CasterChain<io.fluxzero.common.api.SerializedObject<BEFORE>,io.fluxzero.common.api.SerializedObject<?>>",
    "modifiers" : [ "protected", "static" ],
    "annotations" : [ ],
    "typeParameters" : [ "BEFORE", "INTERNAL" ],
    "parameters" : [ {
      "name" : "casterCandidates",
      "type" : "java.util.Collection<?>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "converter",
      "type" : "io.fluxzero.common.serialization.Converter<BEFORE,INTERNAL>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "down",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "create",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#create",
    "returnType" : "io.fluxzero.sdk.common.serialization.casting.CasterChain<S,S>",
    "modifiers" : [ "protected", "static" ],
    "annotations" : [ ],
    "typeParameters" : [ "T", "S" ],
    "parameters" : [ {
      "name" : "casterCandidates",
      "type" : "java.util.Collection<?>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "dataType",
      "type" : "java.lang.Class<T>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "down",
      "type" : "boolean",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "createDowncaster",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#createDowncaster",
    "returnType" : "io.fluxzero.sdk.common.serialization.casting.CasterChain<S,S>",
    "modifiers" : [ "public", "static" ],
    "annotations" : [ ],
    "typeParameters" : [ "T", "S" ],
    "parameters" : [ {
      "name" : "casterCandidates",
      "type" : "java.util.Collection<?>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "dataType",
      "type" : "java.lang.Class<T>",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "createUpcaster",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#createUpcaster",
    "returnType" : "io.fluxzero.sdk.common.serialization.casting.CasterChain<io.fluxzero.common.api.SerializedObject<BEFORE>,io.fluxzero.common.api.SerializedObject<?>>",
    "modifiers" : [ "public", "static" ],
    "annotations" : [ ],
    "typeParameters" : [ "BEFORE", "INTERNAL" ],
    "parameters" : [ {
      "name" : "casterCandidates",
      "type" : "java.util.Collection<?>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "converter",
      "type" : "io.fluxzero.common.serialization.Converter<BEFORE,INTERNAL>",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "createUpcaster",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#createUpcaster",
    "returnType" : "io.fluxzero.sdk.common.serialization.casting.CasterChain<S,S>",
    "modifiers" : [ "public", "static" ],
    "annotations" : [ ],
    "typeParameters" : [ "T", "S" ],
    "parameters" : [ {
      "name" : "casterCandidates",
      "type" : "java.util.Collection<?>",
      "varArgs" : false,
      "annotations" : [ ]
    }, {
      "name" : "dataType",
      "type" : "java.lang.Class<T>",
      "varArgs" : false,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : false,
    "documentation" : null
  }, {
    "name" : "registerCasterCandidates",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain#registerCasterCandidates",
    "returnType" : "io.fluxzero.common.Registration",
    "modifiers" : [ "public" ],
    "annotations" : [ {
      "annotationType" : "java.lang.Override",
      "values" : {}
    } ],
    "typeParameters" : [ ],
    "parameters" : [ {
      "name" : "candidates",
      "type" : "java.lang.Object[]",
      "varArgs" : true,
      "annotations" : [ ]
    } ],
    "thrownTypes" : [ ],
    "varArgs" : true,
    "documentation" : null
  } ],
  "enumConstants" : [ ],
  "recordComponents" : [ ],
  "nestedTypes" : [ {
    "name" : "ConvertingSerializedObject",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain$ConvertingSerializedObject",
    "kind" : "class",
    "modifiers" : [ "protected", "static" ],
    "annotations" : [ {
      "annotationType" : "lombok.AllArgsConstructor",
      "values" : {}
    } ]
  }, {
    "name" : "DataRevision",
    "qualifiedName" : "io.fluxzero.sdk.common.serialization.casting.DefaultCasterChain$DataRevision",
    "kind" : "class",
    "modifiers" : [ "protected", "static" ],
    "annotations" : [ {
      "annotationType" : "lombok.Value",
      "values" : {}
    }, {
      "annotationType" : "lombok.AllArgsConstructor",
      "values" : {}
    } ]
  } ]
}
